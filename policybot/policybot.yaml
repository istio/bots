spanner_db: projects/istio-testing/instances/istio-policy-bot/databases/main
gcp_project: istio-testing
email_from: Istio Policy Bot
email_origin_address: noreply@istio.io
maintainer_activity_window: 2160h
member_activity_window: 4320h
default_org: istio

robots:
  - google-admin
  - googlebot
  - istio-policy-bot
  - istio-release-robot
  - istio-testing

lifecycle:
  triage_label: lifecycle/needs-triage
  stale_label: lifecycle/stale
  cant_be_stale_label: lifecycle/staleproof
  escalation_label: lifecycle/needs-escalation
  feature_request_label: kind/enhancement
  close_label: lifecycle/automatically-closed
  ignore_labels: [Epic]

  real_old_delay: 5000h
  triage_delay: 72h
  escalation_delay: 168h
  feature_request_stale_delay: 4320h
  issue_stale_delay: 2160h
  pull_request_stale_delay: 720h

  feature_request_close_delay: 4680h
  issue_close_delay: 2520h
  pull_request_close_delay: 1080h

  stale_comment: >
    üß≠ This issue or pull request has been automatically marked as stale because it has not had activity
    from an Istio team member since %v. It will be closed on %s unless an Istio team member takes
    action. Please see [this wiki page](https://github.com/istio/istio/wiki/Issue-and-Pull-Request-Lifecycle-Manager) for more information.
    Thank you for your contributions.

  close_comment: >
    üöß This issue or pull request has been closed due to not having had activity from an Istio team member
    since %v. If you feel this issue or pull request deserves attention, please reopen
    the issue. Please see [this wiki page](https://github.com/istio/istio/wiki/Issue-and-Pull-Request-Lifecycle-Manager) for more information.
    Thank you for your contributions.

nags:
  - name: Go
    matchtitle:
      - ".*Fix.*"
    matchbody:
      - ".*Fix.*"
    matchfiles:
      - ".*.go$"
    absentfiles:
      - ".*_test.go$"
    message: "ü§î üêõ You appear to be fixing a bug in Go code, yet your PR doesn't include updates to any test files. Did you forget to add a test?"

flakechaser:
  name: flakey-test
  inactivedays: 3
  createddays: 180
  message: "ü§î ‚ùÑÔ∏è Hey there's no update for this test flakes for 3 days."
  repos:
    - "istio/istio"

autolabels:
  - name: Chinese
    matchtitle:
      - "^zh:.*"
      - "^zh-trans:.*"
      - "^zh-translation:.*"
    labelstoapply:
      - translation/chinese

  - name: Config
    matchbody:
      - "\\[ ?x ?\\] ?Configuration"
    absentlabels:
      - "area/.?"
    labelstoapply:
      - area/config

  - name: Docs
    matchbody:
      - "\\[ ?x ?\\] ?Docs"
    absentlabels:
      - "kind/.?"
    labelstoapply:
      - kind/docs

  - name: Installation
    matchbody:
      - "\\[ ?x ?\\] ?Installation"
    absentlabels:
      - "area/.?"
    labelstoapply:
      - area/environments

  - name: Networking
    matchbody:
      - "\\[ ?x ?\\] ?Networking"
    absentlabels:
      - "area/.?"
    labelstoapply:
      - area/networking

  - name: Security
    matchbody:
      - "\\[ ?x ?\\] ?Security"
    absentlabels:
      - "area/.?"
    labelstoapply:
      - area/security

  - name: Test and Release
    matchbody:
      - "\\[ ?x ?\\] ?Test and Release"
      - "\\[ ?x ?\\] ?Developer Infrastructure"
    absentlabels:
      - "area/.?"
    labelstoapply:
      - "area/test and release"

  - name: Perf & Scalability
    matchbody:
      - "\\[ ?x ?\\] ?Performance"
    absentlabels:
      - "area/.?"
    labelstoapply:
      - "area/perf and scalability"

  - name: Policies and Telemetry
    matchbody:
      - "\\[ ?x ?\\] ?Policies"
    absentlabels:
      - "area/.?"
    labelstoapply:
      - "area/policies and telemetry"

  - name: UX
    matchbody:
      - "\\[ ?x ?\\] ?User ?Experience"
    absentlabels:
      - "area/.?"
    labelstoapply:
      - "area/user experience"

  - name: Feature Request
    matchbody:
      - "feature request"
    labelstoapply:
      - kind/enhancement

boilerplates_to_clean:
  - name: Please provide
    regex: |
      Please provide a description for what this PR is for\.

  - name: To help us
    regex: |
      And to help us figure out who should review this PR, please *
      put an X in all the areas that this PR affects\.

  - name: Area selection
    regex: |
      ^\[.*\] +Configuration Infrastructure
      \[.*\] +Docs
      \[.*\] +Installation
      \[.*\] +Networking
      \[.*\] +Performance and Scalability
      \[.*\] +Policies and Telemetry
      \[.*\] +Security
      \[.*\] +Test and Release
      \[.*\] +User Experience
      \[.*\] +Developer Infrastructure

  - name: Note about bugs
    regex: |
      \(NOTE: This is used to report product bugs:
        To report a security vulnerability, please visit <https://istio.io/about/security-vulnerabilities/>
        To ask questions about how to use Istio, please visit <https://discuss\.istio\.io>
      \)

  - name: Area selection banner
    regex: |
      \*\*Affected product area \(please put an X in all that apply\)\*\*

  - name: Please consider
    regex: |
      Additionally, please consider attaching a \[cluster state archive\]\(http://istio.io/help/bugs/#generating-a-cluster-state-archive\) by attaching
      the dump file to this issue\.

  - name: Feature banner
    regex: |
      \(This is used to request new product features, please visit <https://discuss\.istio\.io> for questions on using Istio\)

orgs:
  - name: istio
    bucket_name: istio-prow
    presubmit_path: pr-logs/pull/

    milestones_to_create:
      - name: "1.5"
        due_date: 2020-02-13T00:00:00Z
        closed: false

      - name: "1.4"
        due_date: 2019-11-13T00:00:00Z
        closed: false

      - name: "1.3"
        due_date: 2019-09-11T00:00:00Z
        closed: true

      - name: "1.2"
        date: 2019-06-20T00:00:00Z
        closed: true

      - name: "1.1"
        date: 2019-03-20T00:00:00Z
        closed: true

      - name: "1.0"
        date: 2018-08-01T00:00:00Z
        closed: true

      - name: "Nebulous Future"
        description: "Issues unlikely to get addressed in the near term"
        closed: false

    labels_to_create:
      - name: flag/needs-release-note
        color: e02642
        description: Indicates a PR contains changes worthy of mentioning in customer-facing release notes.

      - name: flag/needs-backport
        color: e02642
        description: Indicates an issue needs to be addressed in a patch release.

      - name: do-not-merge
        color: bfdadc
        description: Block automatic merging of a PR.

      - name: do-not-merge/work-in-progress
        color: bfdadc
        description: Block merging of a PR because it isn't ready yet.

      - name: size/XS
        color: 77bb00
        description: Denotes a PR that changes 0-9 lines, ignoring generated files.

      - name: size/S
        color: 77bb00
        description: Denotes a PR that changes 10-29 lines, ignoring generated files.

      - name: size/M
        color: 77bb00
        description: Denotes a PR that changes 30-99 lines, ignoring generated files.

      - name: size/L
        color: 77bb00
        description: Denotes a PR that changes 100-499 lines, ignoring generated files.

      - name: size/XL
        color: 77bb00
        description: Denotes a PR that changes 500-999 lines, ignoring generated files.

      - name: size/XXL
        color: 77bb00
        description: Denotes a PR that changes 1000+ lines, ignoring generated files.

      - name: cherrypick/master
        color: ff0000
        description: Set this label on a PR to auto-merge from a release branch to master

      - name: cherrypick/release-1.2
        color: ff0000
        description: Set this label on a PR to auto-merge it to the release-1.2 branch

      - name: cherrypick/release-1.3
        color: ff0000
        description: Set this label on a PR to auto-merge it to the release-1.3 branch

      - name: cherrypick/release-1.4
        color: ff0000
        description: Set this label on a PR to auto-merge it to the release-1.4 branch

      - name: 'cla: yes'
        color: bfdadc
        description: Set by the Google CLA bot to indicate the author of a PR has signed the Google CLA.

      - name: 'cla: no'
        color: bfdadc
        description: Set by the Google CLA bot to indicate the author of a PR has not signed the Google CLA.

      - name: 'ok-to-test'
        color: bfdadc
        description: Set this label allow normal testing to take place for a PR not submitted by an Istio org member.

      - name: 'needs-rebase'
        color: bfdadc
        description: Indicates a PR needs to be rebased before being merged

      - name: 'lifecycle/needs-escalation'
        color: 922992
        description: Indicates a critical PR or issue needs attention

      - name: 'lifecycle/needs-triage'
        color: 922992
        description: Indicates a new PR or issue needs to be triaged

      - name: 'lifecycle/stale'
        color: 922992
        description: Indicates a PR or issue hasn't been manipulated by an Istio team member for a while

      - name: 'lifecycle/staleproof'
        color: 922992
        description: Indicates a PR or issue has been deemed to be immune from becoming stale and/or automatically closed

      - name: 'lifecycle/automatically-closed'
        color: 922992
        description: Indicates a PR or issue that has been automatically closed due to inactivity

      - name: 'lifecycle/automatically-closed'
        color: 922992
        description: Indicates a PR or issue that has been closed automatically.

    repos:
      - name: istio.io
      - name: proxy
      - name: istio
      - name: release-builder
      - name: client-go
      - name: tests
      - name: gogo-genproto
      - name: test-infra
      - name: tools
      - name: api
      - name: cni
      - name: operator
      - name: installer
      - name: pkg
      - name: bots
      - name: common-files
      - name: bottestrepo
